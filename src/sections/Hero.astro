---
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";

import HeroImage from "@assets/images/img1.webp";
import LineImage from "@assets/images/line.png";
import HeartImage from "@assets/images/heart.png";
import Avatar1 from "@assets/images/avatar1.webp";
import Avatar2 from "@assets/images/avatar2.webp";
import Avatar3 from "@assets/images/avatar3.webp";
import Avatar4 from "@assets/images/avatar4.webp";
import Avatar5 from "@assets/images/avatar5.webp";
import Avatar6 from "@assets/images/avatar6.webp";
---

<section class="hero">
    <div class="relative max-w-screen-xl mx-auto px-4">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="">
                <h1
                    class="text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold mt-12 xl:mt-24 leading-tight text-cyan-950"
                >
                    Medical & Health Care

                    <span class="text-cyan-500 inline-flex items-center gap-4">
                        Services
                        <Image
                            src={LineImage}
                            alt="Line Image"
                            class="lg:block hidden h-12 w-full object-contain"
                        />
                    </span>
                </h1>

                <p class="md:text-xl leading-normal text-balance mt-2">
                    Your health is our top priority. Schedule an appointment
                    with us today
                </p>

                <div class="flex items-center gap-4 mt-4">
                    <a
                        href="#"
                        class="flex items-center gap-2 bg-cyan-500 text-white px-4 py-3 md:px-10 md:py-4 rounded-xl md:text-lg"
                    >
                        Appointment
                        <span class="">
                            <Icon
                                name="mdi:arrow-right"
                                size={32}
                                class="text-white"
                            />
                        </span>
                    </a>

                    <a
                        href="#"
                        class="flex items-center gap-2 bg-cyan-950 text-white px-4 py-3 md:px-10 md:py-4 rounded-xl md:text-lg"
                    >
                        Contact Us
                        <span class="">
                            <Icon
                                name="mdi:arrow-right"
                                size={32}
                                class="text-white"
                            />
                        </span>
                    </a>
                </div>

                <article class="hidden relative xl:block max-w-xs my-6">
                    <div
                        class="question-widget relative size-16 bg-white p-2 rounded-xl rounded-br-none shadow"
                    >
                        <Image
                            src={Avatar6}
                            alt="Avatar 6"
                            class="size-full object-contain rounded-xl"
                            loading="eager"
                        />
                    </div>
                    <div
                        class="inline-block w-auto bg-white p-2 rounded-xl shadow rounded-tl-none text-sm text-cyan-950/60 max-w-[220px] ml-16"
                    >
                        <span class="inline-block w-auto">
                            Have a Question?
                            <a
                                href="mailto:info@example.com"
                                class="inline-block text-cyan-500 text-xl"
                                >info@example.com</a
                            >
                        </span>
                    </div>
                </article>
            </div>

            <div class="relative self-end">
                <Image
                    src={HeroImage}
                    alt="Hero Image"
                    class="h-full w-full max-w-md lg:max-w-none mx-auto object-contain"
                />

                <article
                    class="hidden md:block absolute top-0 lg:top-4 left-0 bg-white shadow p-4 rounded-xl font-bold text-center"
                >
                    <svg
                        class="progress blue noselect"
                        data-progress="82"
                        x="0px"
                        y="0px"
                        viewBox="0 0 80 80"
                    >
                        <path
                            class="track"
                            d="M5,40a35,35 0 1,0 70,0a35,35 0 1,0 -70,0"></path>
                        <path
                            class="fill"
                            d="M5,40a35,35 0 1,0 70,0a35,35 0 1,0 -70,0"></path>

                        <text class="value" x="50%" y="60%">0%</text>
                    </svg>

                    <div class="flex items-center gap-4 min-w-[140px]">
                        <h6 class="text-sm font-bold w-full">
                            Successfully <br /> diagnosis
                        </h6>
                        <a href="#" class="w-full">
                            <Icon
                                name="mdi:arrow-top-right-thin-circle-outline"
                                size={50}
                                class="text-cyan-500"
                            />
                        </a>
                    </div>
                </article>

                <article
                    class="hidden md:block absolute mx-auto overflow-hidden top-0 lg:top-24 right-24 lg:right-12"
                >
                    <div class="bg-white size-24 p-4 rounded-xl shadow">
                        <Image
                            src={HeartImage}
                            alt="Heart Image"
                            class="h-full w-full object-contain"
                        />
                    </div>
                </article>

                <article
                    class="hidden md:flex absolute bottom-2 left-0 xl:-left-24 items-center gap-4 bg-white p-4 rounded-full min-w-xs shadow"
                >
                    <div class="flex w-full">
                        <Image
                            src={Avatar1}
                            alt="Avatar 1"
                            class="rounded-full size-10 border-2 border-white"
                        />
                        <Image
                            src={Avatar2}
                            alt="Avatar 2"
                            class="rounded-full size-10 border-2 border-white -ml-3"
                        />
                        <Image
                            src={Avatar3}
                            alt="Avatar 3"
                            class="rounded-full size-10 border-2 border-white -ml-3"
                        />
                        <Image
                            src={Avatar4}
                            alt="Avatar 4"
                            class="rounded-full size-10 border-2 border-white -ml-3"
                        />
                    </div>
                    <div class="w-full">
                        <span class="text-xl font-bold block">150k</span>
                        <span class="text-sm text-cyan-950/60"
                            >Patient recovers</span
                        >
                    </div>
                </article>

                <article
                    class="hidden md:block absolute bottom-24 right-0 2xl:-right-24 2xl:bottom-12 bg-white p-4 rounded-xl shadow max-w-xs"
                >
                    <div class="flex items-center gap-4">
                        <div class="">
                            <Image
                                src={Avatar5}
                                alt="Avatar 5"
                                class="size-12 rounded-full"
                            />
                        </div>
                        <div class="">
                            <h6 class="text-sm font-bold">
                                Dr. Natali jackson
                            </h6>
                            <ul class="flex">
                                <Icon
                                    name="mdi:star"
                                    size={20}
                                    class="text-yellow-500"
                                />
                                <Icon
                                    name="mdi:star"
                                    size={20}
                                    class="text-yellow-500"
                                />
                                <Icon
                                    name="mdi:star"
                                    size={20}
                                    class="text-yellow-500"
                                />
                                <Icon
                                    name="mdi:star"
                                    size={20}
                                    class="text-yellow-500"
                                />
                                <Icon
                                    name="mdi:star"
                                    size={20}
                                    class="text-yellow-500"
                                />
                            </ul>
                        </div>
                    </div>

                    <p class="mt-4 text-sm text-cyan-950/60">
                        “It is a long established fact that a reader will be
                        distracted by the readable content”
                    </p>
                </article>
            </div>
        </div>
    </div>
</section>

<style>
    .hero {
        background-image: url("/images/bg1.webp");
        background-size: cover;
        background-position: center left;
    }

    .progress {
        width: 150px;
        height: 150px;
    }
    .progress .track,
    .progress .fill {
        fill: rgba(0, 0, 0, 0);
        stroke-width: 3;
        transform: rotate(90deg) translate(0px, -80px);
    }
    .progress .track {
        stroke: rgb(204, 204, 204);
    }
    .progress .fill {
        stroke: #00b8db;
        stroke-dasharray: 219.99078369140625;
        stroke-dashoffset: -219.99078369140625;
        transition: stroke-dashoffset 1s;
    }
    .progress.blue .fill {
        stroke: #00b8db;
    }
    .progress .value {
        font-family: "Open Sans";
        fill: #00b8db;
        text-anchor: middle;
        font-size: 20px;
    }
    .noselect {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: default;
    }

    .question-widget::before {
        content: "";
        position: absolute;
        background-image: url("/images/tick.svg");
        background-size: 100%;
        height: 20px;
        width: 20px;
        right: -20px;
        bottom: 0px;
    }

    .question-widget::after {
        content: "";
        position: absolute;
        background-image: url("/images/tick.svg");
        background-size: 100%;
        height: 20px;
        width: 20px;
        bottom: -20px;
        right: 0;
        transform: rotate(180deg);
    }
</style>

<script is:inline>
    var forEach = function (array, callback, scope) {
        for (let i = 0; i < array.length; i++) {
            callback.call(scope, i, array[i]);
        }
    };

    window.onload = function () {
        var max = -219.99078369140625;

        forEach(
            document.querySelectorAll(".progress"),
            function (index, value) {
                let percent = value.getAttribute("data-progress");

                value
                    .querySelector(".fill")
                    .setAttribute(
                        "style",
                        "stroke-dashoffset: " + ((100 - percent) / 100) * max,
                    );
                value.querySelector(".value").innerHTML = percent + "%";
            },
        );
    };
</script>
